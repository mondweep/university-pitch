# Production Environment Configuration
# Copy this file to .env.production and fill in your values

# ============================================
# LLM API Configuration (REQUIRED)
# ============================================

# OpenAI Configuration
OPENAI_API_KEY=sk-...
OPENAI_ORG_ID=org-...  # Optional

# Anthropic Configuration
ANTHROPIC_API_KEY=sk-ant-...

# Primary LLM Provider
# Options: openai, anthropic
LLM_PROVIDER=openai

# Model Selection
# OpenAI: gpt-4, gpt-4-turbo, gpt-3.5-turbo
# Anthropic: claude-3-opus-20240229, claude-3-sonnet-20240229, claude-3-haiku-20240307
LLM_MODEL=gpt-4

# ============================================
# Production Processing Configuration
# ============================================

# Batch sizes for production workloads
LLM_BATCH_SIZE=100
LLM_MAX_CONCURRENT=10

# Enable caching in production
LLM_CACHE_ENABLED=true
LLM_CACHE_TTL=86400  # 24 hours

# Rate limiting (requests per minute)
LLM_RATE_LIMIT_PER_MINUTE=100

# Retry configuration
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY=2

# ============================================
# Cost Management
# ============================================

# Maximum LLM cost allowed per run ($)
MAX_LLM_COST=100.00

# Cost alert threshold (percentage)
COST_ALERT_THRESHOLD=80

# Enable cost tracking
COST_TRACKING_ENABLED=true
COST_TRACKING_DIR=data/costs

# ============================================
# Neo4j Production Configuration
# ============================================

# Neo4j connection (use Neo4j Aura or production instance)
NEO4J_URI=neo4j+s://your-production-instance.databases.neo4j.io
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_secure_password_here
NEO4J_DATABASE=neo4j

# Connection pool settings
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_TIMEOUT=30
NEO4J_MAX_TRANSACTION_RETRY_TIME=30

# ============================================
# AWS Configuration (for S3 storage)
# ============================================

AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=us-east-1
AWS_S3_BUCKET=lbs-kg-content

# CloudFront distribution (optional)
CF_DISTRIBUTION_ID=E...

# ============================================
# Monitoring & Logging
# ============================================

# Logging level for production
LOG_LEVEL=INFO
LOG_FORMAT=json  # json or text

# Enable structured logging
STRUCTURED_LOGGING=true

# Sentry error tracking (optional)
SENTRY_DSN=https://...@sentry.io/...
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application monitoring (optional)
DATADOG_API_KEY=...
DATADOG_APP_KEY=...

# ============================================
# Performance Optimization
# ============================================

# Enable parallel processing
PARALLEL_PROCESSING=true
MAX_WORKERS=8

# Memory management
MAX_MEMORY_MB=4096

# Enable progress tracking
ENABLE_PROGRESS_BAR=true

# ============================================
# Data Paths (Production)
# ============================================

# Input/output data locations
DATA_DIR=/data/lbs-knowledge-graph
GRAPH_INPUT_PATH=/data/graph/graph.json
GRAPH_OUTPUT_PATH=/data/graph/graph_enriched.json

# Checkpoint directory for intermediate results
CHECKPOINT_DIR=/data/checkpoints

# Backup directory
BACKUP_DIR=/data/backups

# ============================================
# Feature Flags
# ============================================

# Enable/disable specific enrichments
ENABLE_SENTIMENT=true
ENABLE_TOPICS=true
ENABLE_NER=true
ENABLE_PERSONAS=true
ENABLE_SIMILARITY=true
ENABLE_CLUSTERING=true

# Enable experimental features
ENABLE_JOURNEY_MAPPING=false
ENABLE_ADVANCED_CLUSTERING=false

# ============================================
# Validation & Quality Control
# ============================================

# Validation thresholds
MIN_SENTIMENT_COVERAGE=0.90
MIN_TOPIC_COVERAGE=0.85
MIN_NER_COVERAGE=0.80
MIN_PERSONA_COVERAGE=0.75

# Quality thresholds
MIN_QUALITY_SCORE=0.80

# ============================================
# GitHub Actions Integration
# ============================================

# These are typically set by GitHub Actions
# CI=true
# GITHUB_ACTIONS=true
# GITHUB_WORKSPACE=/github/workspace
# GITHUB_SHA=...
# GITHUB_REF=refs/heads/main

# ============================================
# Security
# ============================================

# Enable security features
ENABLE_API_KEY_ROTATION=false
API_KEY_ROTATION_DAYS=90

# Encryption at rest
ENABLE_ENCRYPTION=false
ENCRYPTION_KEY=...

# ============================================
# Performance Monitoring
# ============================================

# Enable performance metrics
ENABLE_METRICS=true
METRICS_OUTPUT_DIR=/data/metrics

# Enable profiling (disable in production unless debugging)
ENABLE_PROFILING=false

# ============================================
# Notification Configuration
# ============================================

# Slack notifications (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
SLACK_CHANNEL=#kg-alerts

# Email notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=...
ALERT_EMAIL=team@example.com

# ============================================
# Maintenance & Cleanup
# ============================================

# Auto-cleanup settings
AUTO_CLEANUP_CHECKPOINTS=true
CHECKPOINT_RETENTION_DAYS=7

AUTO_CLEANUP_LOGS=true
LOG_RETENTION_DAYS=30

# Backup retention
BACKUP_RETENTION_DAYS=90
